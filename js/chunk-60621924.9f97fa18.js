(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60621924"],{"26bc":function(t,e,r){t.exports=r.p+"img/close.d557872a.svg"},"4eb0":function(t,e,r){"use strict";r("e785")},"511f":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"radio-button"},[r("input",{staticClass:"radio-button__checker",attrs:{type:t.inputType,name:t.groupName,id:t.id},domProps:{value:t.value,checked:t.getCheckState},on:{click:t.change}}),r("label",{staticClass:"radio-button__label",attrs:{for:t.id}},[t._v(" "+t._s(t.name)+" ")])])},i=[],a={name:"CheckInputItem",props:{name:String,id:String,isChecked:Boolean,comparingValue:[String,Array],groupName:String,value:Object,isLocked:{type:Boolean,default:!1},inputType:{default:"radio"}},methods:{change:function(){this.isLocked&&this.preventStop(event),this.$emit("change",this.value)},preventStop:function(t){return t.preventDefault(),!1}},computed:{getCheckState:function(){if(this.isChecked)return!0;if(this.comparingValue instanceof Array){for(var t=0;t<this.comparingValue.length;t++)if(this.comparingValue[t].text===this.value.text)return!0;return!1}return this.value.text===this.comparingValue}}},s=a,o=(r("d62f"),r("2877")),c=Object(o["a"])(s,n,i,!1,null,null,null);e["a"]=c.exports},5319:function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),a=r("7b0b"),s=r("50c4"),o=r("a691"),c=r("1d80"),u=r("8aa5"),d=r("14c3"),l=Math.max,h=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=n.REPLACE_KEEPS_$0,$=v?"$":"$0";return[function(r,n){var i=c(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!v&&_||"string"===typeof n&&-1===n.indexOf($)){var a=r(e,t,this,n);if(a.done)return a.value}var c=i(t),f=String(this),m="function"===typeof n;m||(n=String(n));var p=c.global;if(p){var S=c.unicode;c.lastIndex=0}var C=[];while(1){var y=d(c,f);if(null===y)break;if(C.push(y),!p)break;var O=String(y[0]);""===O&&(c.lastIndex=u(f,s(c.lastIndex),S))}for(var k="",M=0,D=0;D<C.length;D++){y=C[D];for(var I=String(y[0]),w=l(h(o(y.index),f.length),0),x=[],A=1;A<y.length;A++)x.push(g(y[A]));var T=y.groups;if(m){var j=[I].concat(x,w,f);void 0!==T&&j.push(T);var L=String(n.apply(void 0,j))}else L=b(I,f,w,x,T,n);w>=M&&(k+=f.slice(M,w)+L,M=w+I.length)}return k+f.slice(M)}];function b(t,r,n,i,s,o){var c=n+t.length,u=i.length,d=p;return void 0!==s&&(s=a(s),d=m),e.call(o,d,(function(e,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var d=+a;if(0===d)return e;if(d>u){var l=f(d/10);return 0===l?e:l<=u?void 0===i[l-1]?a.charAt(1):i[l-1]+a.charAt(1):e}o=i[d-1]}return void 0===o?"":o}))}}))},"5a0c":function(t,e,r){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",i="day",a="week",s="month",o="quarter",c="year",u="date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},m={s:f,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+f(n,2,"0")+":"+f(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,s),a=r-i<0,o=e.clone().add(n+(a?-1:1),s);return+(-(n+(r-i)/(a?i-o:o-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(d){return{M:s,y:c,w:a,d:i,D:u,h:n,m:r,s:e,ms:t,Q:o}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},p="en",g={};g[p]=h;var v=function(t){return t instanceof S},_=function(t,e,r){var n;if(!t)return p;if("string"==typeof t)g[t]&&(n=t),e&&(g[t]=e,n=t);else{var i=t.name;g[i]=t,n=i}return!r&&n&&(p=n),n||!r&&p},$=function(t,e){if(v(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new S(r)},b=m;b.l=_,b.i=v,b.w=function(t,e){return $(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function h(t){this.$L=_(t.locale,null,!0),this.parse(t)}var f=h.prototype;return f.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(d);if(n){var i=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},f.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},f.$utils=function(){return b},f.isValid=function(){return!("Invalid Date"===this.$d.toString())},f.isSame=function(t,e){var r=$(t);return this.startOf(e)<=r&&r<=this.endOf(e)},f.isAfter=function(t,e){return $(t)<this.startOf(e)},f.isBefore=function(t,e){return this.endOf(e)<$(t)},f.$g=function(t,e,r){return b.u(t)?this[e]:this.set(r,t)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(t,o){var d=this,l=!!b.u(o)||o,h=b.p(t),f=function(t,e){var r=b.w(d.$u?Date.UTC(d.$y,e,t):new Date(d.$y,e,t),d);return l?r:r.endOf(i)},m=function(t,e){return b.w(d.toDate()[t].apply(d.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),d)},p=this.$W,g=this.$M,v=this.$D,_="set"+(this.$u?"UTC":"");switch(h){case c:return l?f(1,0):f(31,11);case s:return l?f(1,g):f(0,g+1);case a:var $=this.$locale().weekStart||0,S=(p<$?p+7:p)-$;return f(l?v-S:v+(6-S),g);case i:case u:return m(_+"Hours",0);case n:return m(_+"Minutes",1);case r:return m(_+"Seconds",2);case e:return m(_+"Milliseconds",3);default:return this.clone()}},f.endOf=function(t){return this.startOf(t,!1)},f.$set=function(a,o){var d,l=b.p(a),h="set"+(this.$u?"UTC":""),f=(d={},d[i]=h+"Date",d[u]=h+"Date",d[s]=h+"Month",d[c]=h+"FullYear",d[n]=h+"Hours",d[r]=h+"Minutes",d[e]=h+"Seconds",d[t]=h+"Milliseconds",d)[l],m=l===i?this.$D+(o-this.$W):o;if(l===s||l===c){var p=this.clone().set(u,1);p.$d[f](m),p.init(),this.$d=p.set(u,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},f.set=function(t,e){return this.clone().$set(t,e)},f.get=function(t){return this[b.p(t)]()},f.add=function(t,o){var u,d=this;t=Number(t);var l=b.p(o),h=function(e){var r=$(d);return b.w(r.date(r.date()+Math.round(e*t)),d)};if(l===s)return this.set(s,this.$M+t);if(l===c)return this.set(c,this.$y+t);if(l===i)return h(1);if(l===a)return h(7);var f=(u={},u[r]=6e4,u[n]=36e5,u[e]=1e3,u)[l]||1,m=this.$d.getTime()+t*f;return b.w(m,this)},f.subtract=function(t,e){return this.add(-1*t,e)},f.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),i=this.$locale(),a=this.$H,s=this.$m,o=this.$M,c=i.weekdays,u=i.months,d=function(t,n,i,a){return t&&(t[n]||t(e,r))||i[n].substr(0,a)},h=function(t){return b.s(a%12||12,t,"0")},f=i.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:b.s(o+1,2,"0"),MMM:d(i.monthsShort,o,u,3),MMMM:d(u,o),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,c,2),ddd:d(i.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:b.s(a,2,"0"),h:h(1),hh:h(2),a:f(a,s,!0),A:f(a,s,!1),m:String(s),mm:b.s(s,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:n};return r.replace(l,(function(t,e){return e||m[t]||n.replace(":","")}))},f.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},f.diff=function(t,u,d){var l,h=b.p(u),f=$(t),m=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,g=b.m(this,f);return g=(l={},l[c]=g/12,l[s]=g,l[o]=g/3,l[a]=(p-m)/6048e5,l[i]=(p-m)/864e5,l[n]=p/36e5,l[r]=p/6e4,l[e]=p/1e3,l)[h]||p,d?g:b.a(g)},f.daysInMonth=function(){return this.endOf(s).$D},f.$locale=function(){return g[this.$L]},f.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=_(t,e,!0);return n&&(r.$L=n),r},f.clone=function(){return b.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),C=S.prototype;return $.prototype=C,[["$ms",t],["$s",e],["$m",r],["$H",n],["$W",i],["$M",s],["$y",c],["$D",u]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),$.extend=function(t,e){return t.$i||(t(e,S,$),t.$i=!0),$},$.locale=_,$.isDayjs=v,$.unix=function(t){return $(1e3*t)},$.en=g[p],$.Ls=g,$.p={},$}))},"6e82":function(t,e,r){},"6fa4":function(t,e,r){t.exports=r.p+"img/ready.3a6b9487.svg"},"860c":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"admin-page"},[r("AdminSideBar",{staticClass:"admin-page__side-bar",attrs:{active:2}}),r("div",{staticClass:"admin-page__main-content"},[r("AdminHeader",{staticClass:"admin-page__header"}),r("div",{staticClass:"admin-page__content admin-content"},[r("p",{staticClass:"admin-content__title"},[t._v("Заказы")]),r("AdminOrderList",{staticClass:"admin-content__order-list",attrs:{"search-filters":t.listFilters,"total-amount":t.getOrdersCount,"page-limit":t.pageLimit,"for-click-callback":t.fetchOrders}},[r("pulse-loader",{staticClass:"list__loader",attrs:{loading:0===t.getOrders.length,color:"#007BFF"}}),0!==t.getOrders.length?r("div",{staticClass:"list-items"},t._l(t.getOrders,(function(t){return r("AdminOrderItem",{key:t.id,attrs:{id:t.id,"car-id":t.carId,"city-name":t.cityId.name,"point-address":t.pointId.address,color:t.color,price:t.price,"is-full-tank":t.isFullTank,"is-need-child-chair":t.isFullTank,"is-right-wheel":t.isRightWheel,"date-from":t.dateFrom,"date-to":t.dateTo,"order-status":t.orderStatusId.name}})})),1):t._e()],1)],1),r("AdminFooter",{staticClass:"admin-page__footer"})],1)],1)},i=[],a=r("5530"),s=r("05d5"),o=r("a16e"),c=r("8e14"),u=r("b0ac"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order"},[n("div",{staticClass:"order__info"},[n("div",{staticClass:"order-info__container"},[null!==t.carId?n("img",{staticClass:"order__image",attrs:{src:t.getHandledCarId.imgPath,alt:"car-image",crossOrigin:"anonymous",referrerPolicy:"origin"}}):t._e(),null===t.carId?n("img",{staticClass:"order__image order__image--unknown",attrs:{src:r("8bd3"),alt:"unknown-car"}}):t._e(),n("p",{staticClass:"order__description"},[n("span",[t._v(t._s(t.getHandledCarId.modelName))]),t._v(" в "),n("span",[t._v(t._s(t.cityName))]),t._v(", "+t._s(t.pointAddress)+" "),n("br"),t._v(" "+t._s(t._f("toDate")(t.dateFrom))+" — "+t._s(t._f("toDate")(t.dateTo))+" "),n("br"),t._v(" Цвет: "),n("span",[t._v(t._s(t.color))]),t._v(" Статус: "),n("span",[t._v(t._s(t.orderStatus))])])]),n("div",{staticClass:"order__extra order-extra"},[n("CheckInputItem",{staticClass:"order-extra__input",attrs:{"input-type":"checkbox",name:"Полный бак",value:{text:"Полный бак",amount:500},checked:t.isFullTank,id:t.id.toString()+"1","is-locked":!0}}),n("CheckInputItem",{staticClass:"order-extra__input",attrs:{"input-type":"checkbox",name:"Детское кресло",value:{text:"Детское кресло",amount:200},"is-checked":t.isNeedChildChair,id:t.id.toString()+"2","is-locked":!0}}),n("CheckInputItem",{staticClass:"order-extra__input",attrs:{"input-type":"checkbox",name:"Правый руль",value:{text:"Правый руль",amount:1600},"is-checked":t.isRightWheel,id:t.id.toString()+"3","is-locked":!0}})],1)]),n("div",{staticClass:"order__additional-info"},[n("p",{staticClass:"order__price"},[t._v(t._s(t._f("toPrice")(t.price))+" ₽")]),n("div",{staticClass:"order__action-buttons"},[n("button",{staticClass:"action-button",on:{click:t.orderConfirm}},[n("img",{attrs:{src:r("6fa4"),alt:"ready"}}),n("p",{staticClass:"action-button__text"},[t._v("Готово")])]),n("button",{staticClass:"action-button",on:{click:t.orderCancel}},[n("img",{attrs:{src:r("26bc"),alt:"cancel"}}),n("p",{staticClass:"action-button__text"},[t._v("Отмена")])]),n("button",{staticClass:"action-button",on:{click:t.editOrder}},[n("img",{attrs:{src:r("b10c"),alt:"edit"}}),n("p",{staticClass:"action-button__text"},[t._v("Изменить")])])])])])},l=[],h=(r("b0c0"),r("a9e3"),r("d3b7"),r("ac1f"),r("25f0"),r("5319"),r("1276"),r("96cf"),r("1da1")),f=r("511f"),m=r("5a0c"),p=r.n(m),g=r("2f62"),v=r("a18c"),_={name:"AdminOrderItem",props:{id:String,cityName:String,pointAddress:String,color:String,price:Number,isFullTank:Boolean,isNeedChildChair:Boolean,isRightWheel:Boolean,dateTo:Number,dateFrom:Number,carId:Object,orderStatus:String},components:{CheckInputItem:f["a"]},methods:Object(a["a"])(Object(a["a"])({},Object(g["b"])(["fetchOrderById","updateLastOrderStatus"])),{},{editOrder:function(){this.fetchOrderById(this.id),v["a"].push("/admin/orders/".concat(this.id))},orderConfirm:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.updateLastOrderStatus({statusId:t.getStatuses.confirmed,orderId:t.id});case 1:case"end":return e.stop()}}),e)})))()},orderCancel:function(){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchOrderById(t.id);case 2:t.updateLastOrderStatus({statusId:t.getStatuses.cancelled,orderId:t.id});case 3:case"end":return e.stop()}}),e)})))()}}),filters:{toPrice:function(t){t=t.toString().replace(/(\.(.*))/g,"");var e=t.split(""),r="";if(t.length>3){for(var n=e.length-1,i=1;n>=0;n--,i++)r=e[n]+r,i%3===0&&(r=" "+r);return r}return t},toDate:function(t){return p()(t).format("DD.MM.YYYY hh:mm")}},computed:Object(a["a"])(Object(a["a"])({},Object(g["c"])(["getStatuses"])),{},{getHandledCarId:function(){return null===this.carId?{modelName:"NO DATA"}:{imgPath:"https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/"+this.carId.thumbnail.path,modelName:this.carId.name}}})},$=_,b=(r("4eb0"),r("2877")),S=Object(b["a"])($,d,l,!1,null,"9e742c36",null),C=S.exports,y=r("8a5d"),O={name:"Admin",components:{AdminSideBar:s["a"],AdminHeader:o["a"],AdminFooter:c["a"],AdminOrderList:u["a"],PulseLoader:y["a"],AdminOrderItem:C},data:function(){return{pageLimit:5,model:"",city:"",category:"",color:"",listFilters:[{id:3,name:"Цвет",options:["Голубой","Красный","Белый"],modelingValue:{name:"color",value:""}}]}},methods:Object(a["a"])({},Object(g["b"])("adminOrders/",["fetchOrders","fetchCars","fetchCities"])),computed:Object(a["a"])({},Object(g["c"])("adminOrders/",["getOrders","getOrdersCount","getCars","getCities"])),mounted:function(){this.fetchOrders({page:1,limit:this.pageLimit})}},k=O,M=(r("d9c3"),Object(b["a"])(k,n,i,!1,null,null,null));e["default"]=M.exports},"8bd3":function(t,e,r){t.exports=r.p+"img/unknown-car.4d0c085b.jpg"},9985:function(t,e,r){},d62f:function(t,e,r){"use strict";r("9985")},d9c3:function(t,e,r){"use strict";r("6e82")},e785:function(t,e,r){}}]);
//# sourceMappingURL=chunk-60621924.9f97fa18.js.map